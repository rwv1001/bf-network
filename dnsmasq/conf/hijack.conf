# DNS Hijacking DNSmasq Configuration
# This instance runs on 192.168.99.5 and redirects ALL domains to the captive portal
# Used for unregistered devices only

# Listen on specific IP (the hijacking DNS server)
listen-address=192.168.99.5
bind-interfaces

# Don't use upstream DNS servers - we want to hijack everything
no-resolv

# Redirect ALL domains to captive portal
# This catches any domain the device tries to resolve
address=/#/192.168.99.4

# Log queries for debugging (optional, can be removed in production)
log-queries
log-facility=/var/log/dnsmasq-hijack.log
