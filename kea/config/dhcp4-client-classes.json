{
  "Dhcp4": {
    "interfaces-config": {
      "interfaces": [ "*" ],
      "dhcp-socket-type": "raw"
    },
    
    "control-socket": {
      "socket-type": "unix",
      "socket-name": "/kea/leases/kea4-ctrl-socket"
    },
    
    "lease-database": {
      "type": "memfile",
      "persist": true,
      "name": "/kea/leases/kea-leases4.csv",
      "lfc-interval": 3600
    },
    
    "hosts-database": {
      "type": "memfile"
    },
    
    "expired-leases-processing": {
      "reclaim-timer-wait-time": 10,
      "flush-reclaimed-timer-wait-time": 25,
      "hold-reclaimed-time": 3600,
      "max-reclaim-leases": 100,
      "max-reclaim-time": 250,
      "unwarned-reclaim-cycles": 5
    },
    
    "renew-timer": 900,
    "rebind-timer": 1800,
    "valid-lifetime": 86400,
    
    "option-data": [
      {
        "name": "domain-name",
        "data": "blackfriars.local"
      }
    ],
    
    "client-classes": [
      {
        "name": "REGISTERED",
        "test": "pkt.reserved('user-context') and pkt.reserved('user-context').contains('registered') and pkt.reserved('user-context').get('registered') == true",
        "option-data": [
          {
            "name": "domain-name-servers",
            "data": "8.8.8.8, 8.8.4.4"
          }
        ],
        "valid-lifetime": 86400
      },
      {
        "name": "UNREGISTERED",
        "test": "not member('REGISTERED')",
        "option-data": [
          {
            "name": "domain-name-servers",
            "data": "192.168.99.4"
          }
        ]
      }
    ],
    
    "subnet4": [
      {
        "subnet": "192.168.10.0/24",
        "id": 10,
        "pools": [
          {
            "pool": "192.168.10.128 - 192.168.10.254",
            "client-class": "UNREGISTERED"
          },
          {
            "pool": "192.168.10.5 - 192.168.10.127",
            "client-class": "REGISTERED"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.10.1"
          }
        ],
        "reservations": []
      },
      {
        "subnet": "192.168.20.0/24",
        "id": 20,
        "pools": [
          {
            "pool": "192.168.20.5 - 192.168.20.127",
            "client-class": "REGISTERED"
          },
          {
            "pool": "192.168.20.128 - 192.168.20.254",
            "client-class": "UNREGISTERED"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.20.1"
          }
        ],
        "reservations": []
      },
      {
        "subnet": "192.168.30.0/24",
        "id": 30,
        "pools": [
          {
            "pool": "192.168.30.5 - 192.168.30.127",
            "client-class": "REGISTERED"
          },
          {
            "pool": "192.168.30.128 - 192.168.30.254",
            "client-class": "UNREGISTERED"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.30.1"
          }
        ],
        "reservations": []
      },
      {
        "subnet": "192.168.40.0/24",
        "id": 40,
        "pools": [
          {
            "pool": "192.168.40.5 - 192.168.40.127",
            "client-class": "REGISTERED"
          },
          {
            "pool": "192.168.40.128 - 192.168.40.254",
            "client-class": "UNREGISTERED"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.40.1"
          }
        ],
        "reservations": []
      },
      {
        "subnet": "192.168.50.0/24",
        "id": 50,
        "pools": [
          {
            "pool": "192.168.50.5 - 192.168.50.127",
            "client-class": "REGISTERED"
          },
          {
            "pool": "192.168.50.128 - 192.168.50.254",
            "client-class": "UNREGISTERED"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.50.1"
          }
        ],
        "reservations": []
      },
      {
        "subnet": "192.168.60.0/24",
        "id": 60,
        "pools": [
          {
            "pool": "192.168.60.5 - 192.168.60.127",
            "client-class": "REGISTERED"
          },
          {
            "pool": "192.168.60.128 - 192.168.60.254",
            "client-class": "UNREGISTERED"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.60.1"
          }
        ],
        "reservations": []
      },
      {
        "subnet": "192.168.70.0/24",
        "id": 70,
        "pools": [
          {
            "pool": "192.168.70.5 - 192.168.70.127",
            "client-class": "REGISTERED"
          },
          {
            "pool": "192.168.70.128 - 192.168.70.254",
            "client-class": "UNREGISTERED"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.70.1"
          }
        ],
        "reservations": []
      },
      {
        "subnet": "192.168.90.0/24",
        "id": 90,
        "pools": [
          {
            "pool": "192.168.90.5 - 192.168.90.127",
            "client-class": "REGISTERED"
          },
          {
            "pool": "192.168.90.128 - 192.168.90.254",
            "client-class": "UNREGISTERED"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.90.1"
          }
        ],
        "reservations": []
      },
      {
        "subnet": "192.168.99.0/24",
        "id": 99,
        "pools": [
          {
            "pool": "192.168.99.100 - 192.168.99.254"
          }
        ],
        "option-data": [
          {
            "name": "routers",
            "data": "192.168.99.1"
          },
          {
            "name": "domain-name-servers",
            "data": "192.168.99.4"
          }
        ],
        "reservations": []
      }
    ],
    
    "loggers": [
      {
        "name": "kea-dhcp4",
        "output_options": [
          {
            "output": "stdout",
            "pattern": "%-5p %m\n"
          }
        ],
        "severity": "INFO",
        "debuglevel": 0
      }
    ]
  }
}
