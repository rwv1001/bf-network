{% extends "base.html" %}

{% block title %}Add User - Network Access Portal{% endblock %}

{% block header %}Add New Authorized User{% endblock %}

{% block content %}
<form method="POST" action="{{ url_for('admin_add_user') }}">
    <div class="form-group">
        <label for="email">Email Address <span class="required">*</span></label>
        <input type="email" id="email" name="email" required>
    </div>
    
    <div class="form-group">
        <label for="first_name">First Name</label>
        <input type="text" id="first_name" name="first_name">
    </div>
    
    <div class="form-group">
        <label for="last_name">Last Name</label>
        <input type="text" id="last_name" name="last_name">
    </div>
    
    <div class="form-group">
        <label for="phone_number">Phone Number</label>
        <input type="tel" id="phone_number" name="phone_number">
    </div>
    
    <div class="form-group">
        <label for="status">Access Level <span class="required">*</span></label>
        <select id="status" name="status" required>
            <option value="">-- Select Status --</option>
            {% for status in vlan_map.keys() %}
                {% if status not in ['unregistered', 'restricted'] %}
                <option value="{{ status }}">{{ status.title() }}</option>
                {% endif %}
            {% endfor %}
        </select>
    </div>
    
    <div class="form-group">
        <label for="begin_date">Begin Date <span class="required">*</span></label>
        <input type="date" id="begin_date" name="begin_date" required 
               value="{{ (now or '2025-11-05')|default('2025-11-05', true) }}">
    </div>
    
    <div class="form-group">
        <label for="expiry_date">Expiry Date</label>
        <input type="date" id="expiry_date" name="expiry_date">
        <small style="color: #666; font-size: 13px; display: block; margin-top: 5px;">
            Leave blank for permanent access (no expiration)
        </small>
    </div>
    
    <div class="form-group">
        <label for="notes">Notes</label>
        <textarea id="notes" name="notes" rows="3" placeholder="Optional notes about this user"></textarea>
    </div>
    
    <div style="margin-top: 30px;">
        <button type="submit" class="btn">Add User</button>
        <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary" style="margin-left: 10px;">Cancel</a>
    </div>
</form>
{% endblock %}
